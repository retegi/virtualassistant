{% extends "base.html" %}
{% load i18n %}  <!-- Cargar el sistema de traducción -->
{% load static %}

{% block head %}
<style>
.formulario {
    padding-top: 30vh;

}
body{
    background-size: cover;
    height: 100vh;
}

.partehead{
  height: 90vh;
}
.container-header{
    height: 100vh;
}
    .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }

      .b-example-divider {
        width: 100%;
        height: 3rem;
        background-color: rgba(0, 0, 0, .1);
        border: solid rgba(0, 0, 0, .15);
        border-width: 1px 0;
        box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
      }

      .b-example-vr {
        flex-shrink: 0;
        width: 1.5rem;
        height: 100vh;
      }

      .bi {
        vertical-align: -.125em;
        fill: currentColor;
      }

      .nav-scroller {
        position: relative;
        z-index: 2;
        height: 2.75rem;
        overflow-y: hidden;
      }

      .nav-scroller .nav {
        display: flex;
        flex-wrap: nowrap;
        padding-bottom: 1rem;
        margin-top: -1px;
        overflow-x: auto;
        text-align: center;
        white-space: nowrap;
        -webkit-overflow-scrolling: touch;
      }

      .btn-bd-primary {
        --bd-violet-bg: #712cf9;
        --bd-violet-rgb: 112.520718, 44.062154, 249.437846;

        --bs-btn-font-weight: 600;
        --bs-btn-color: var(--bs-white);
        --bs-btn-bg: var(--bd-violet-bg);
        --bs-btn-border-color: var(--bd-violet-bg);
        --bs-btn-hover-color: var(--bs-white);
        --bs-btn-hover-bg: #6528e0;
        --bs-btn-hover-border-color: #6528e0;
        --bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);
        --bs-btn-active-color: var(--bs-btn-hover-color);
        --bs-btn-active-bg: #5a23c8;
        --bs-btn-active-border-color: #5a23c8;
      }

      .bd-mode-toggle {
        z-index: 1500;
      }

      .bd-mode-toggle .dropdown-menu .active .bi {
        display: block !important;
      }
      
      .color{
        color: #8a2be2;
      }
      .bg-color {
        color: white;
        background-color: #8a2be2;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .bg-color:hover {
        color: white;
        transform: scale(1.05);
        background-color:#8a2be2 ;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      }

      .forms-input{
        border-color: #8a2be2;
      }

</style>


<style>
/* Estilos para el efecto de flip */
.flip-card {
  background-color: transparent;
  width: 100%;
  height: 370px; /* Altura fija para las tarjetas */
  perspective: 1000px; /* Permite el efecto 3D */
}

.flip-card-inner {
  position: relative;
  width: 100%;
  height: 100%;
  transition: transform 0.6s;
  transform-style: preserve-3d;
}

.flip-card:hover .flip-card-inner {
  transform: rotateY(180deg);
}

.flip-card-front,
.flip-card-back {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden; /* Oculta la parte trasera */
  border-radius: 8px;
  overflow: hidden;
}

.flip-card-front img {
  width: 100%;
  height: 100%;
  object-fit: cover; /* Ajusta la imagen para cubrir el contenedor */
}

.flip-card-back {
  background-color: #8a2be2; /* Color de fondo del reverso */
  color: #fff; /* Color del texto */
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotateY(180deg); /* Voltea la parte trasera */
  padding: 15px;
  text-align: center;
}
</style>
{% endblock %}

{% block content %}

<div class="container-fluid text-center partehead" 
     style="background: url('{% static "home/asistente-virtual-empresas.jpg" %}') no-repeat center center; 
            background-size: cover;">
  
  <div class="row justify-content-center py-5">
      <div class="col-12 col-md-8 col-lg-6 mt-5">
          <form class="bg-white p-4 p-md-5 rounded shadow">
              <h5 class="text-secondary">
                  {% trans 'Mejora la atención a tus clientes' %}<br>
                  {% trans 'y atiende 24 horas' %}<br>
                  {% trans 'con tu asistente inteligente' %} 😉
              </h5>
              
              <div class="mb-3">
                  <h1 class="m-3">{% trans 'Nombre para tu' %}<br>{% trans 'asistente inteligente:' %}</h1>
                  <input style="color:#8a2be2;" type="text" class="form-control text-center" 
                         id="exampleInputEmail1" aria-describedby="emailHelp">
                  <div id="emailHelp" class="form-text">
                      <label class="h5">
                          www.tu<b class="text-dark">asistente</b>inteligente.com/
                          <b class="color h3" id="assistanturl">{% trans 'bolsosmadrid' %}</b>
                      </label>
                  </div>
              </div>
              
              <a href="{% url 'account_signup' %}" 
                 class="btn bg-color w-100 w-md-50" 
                 data-bs-toggle="modal" 
                 data-bs-target="#exampleModalCenter">
                  <b>{% trans 'Crear' %}<br>{% trans 'Asistente Inteligente' %}</b>
              </a>
          </form>
      </div>
  </div>
</div>


<section class="flip-section bg-light py-5">
  <div class="container py-5">
    <!-- Título y subtítulo centrados -->
    <div class="text-center mb-3">
      <h1>{% trans 'Tu asistente virtual en 3 pasos' %}</h1>
      <p class="lead">
        {% trans 'Tu asistente virtual atiende tus clientes 24/7 e informará a tus clientes sobre tu empresa, productos, servicios y precios como tú decidas.' %}
      </p>
    </div>
    
    <!-- Tarjetas en fila (se apilan en móvil y se muestran en 3 columnas en pantallas medianas o mayores) -->
    <div class="row g-4 justify-content-center py-5">
      <!-- Tarjeta 1 -->
      <div class="col-12 col-md-4 py-5">
        <div class="flip-card">
          <div class="flip-card-inner">
            <h3>1. {% trans 'Elige un nombre para tu asistente virtual' %}</h3>
            <div class="flip-card-front">
              <img src="{% static 'img/virtual-asistente-primer-paso.webp' %}" alt="Imagen 1" class="img-fluid">
            </div>
            <div class="flip-card-back">
              <h4>{% trans 'Elige un nombre para tu asistente virtual' %}</h4>
            </div>
          </div>
        </div>
      </div>

      <!-- Tarjeta 2 -->
      <div class="col-12 col-md-4 py-5">
        <div class="flip-card">
          <div class="flip-card-inner">
            <h3>1. {% trans 'Elige un nombre para tu asistente virtual' %}</h3>
            <div class="flip-card-front">
              <img src="{% static 'img/virtual-asistente-segundo-paso.webp' %}" alt="Imagen 2" class="img-fluid">
            </div>
            <div class="flip-card-back">
              <h4>{% trans 'Completa la información de productos, servicios y ofertas especiales' %}</h4>
            </div>
          </div>
        </div>
      </div>

      <!-- Tarjeta 3 -->
      <div class="col-12 col-md-4 py-5">
        <div class="flip-card">
          <div class="flip-card-inner">
            <h3>1. {% trans 'Elige un nombre para tu asistente virtual' %}</h3>
            <div class="flip-card-front">
              <img src="{% static 'img/vistual-asistente-tercer-paso.webp' %}" alt="Imagen 3" class="img-fluid">
            </div>
            <div class="flip-card-back">
              <h4>{% trans 'Añade el enlace o código del asistente a tu web' %}</h4>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!--===========================================================
        Seccion de las tarjetas de precios 
===============================================================-->
<div class="w-100 py-5" style="background-color: #8a2be2;color: white;">
    <div class="container py-5">
        <div class="row py-5">
            <div class="col-12 text-center">
                <h2 class="display-6 text-center mb-4">{% trans 'Entrena tu asistente con los datos de tu empresa, productos, servicios y ofertas. Y dile cómo quieres que atienda a tus clientes.' %}</h2>
            </div>
        </div>
    </div>
</div>  

<!--=============================================================
              apartado o seccion para las demos
=================================================================-->
<div class="container text-center my-5 py-5 bg-light">
  <h2 class="mb-4">🔍 {% trans "Echa un vistazo a nuestros proyectos" %}</h2>
  <div class="row justify-content-center">
      
      <!-- Card 1: CAF -->
      <div class="col-12 col-md-4 d-flex justify-content-center mb-4 mb-md-0">
          <div class="card mx-2" style="width: 18rem;">
              <img src="{% static 'img/CAF-ferrocarril.jpg' %}" class="card-img-top img-fluid" alt="{% trans 'Asistente CAF' %}">
              <div class="card-body">
                  <p class="card-text">{% trans "Asistente virtual de CAF para mejorar la experiencia del cliente en el sector ferroviario." %}</p>
                  <a href="https://www.tuasistenteinteligente.com/CAF_ASISTANT/" class="btn bg-color w-100 mt-4">{% trans "Ver Asistente" %}</a>
              </div>
          </div>
      </div>

      <!-- Card 2: Euskaltel -->
      <div class="col-12 col-md-4 d-flex justify-content-center mb-4 mb-md-0">
          <div class="card mx-2" style="width: 18rem;">
              <img src="{% static 'img/euskaltel.png' %}" class="card-img-top img-fluid" alt="{% trans 'Asistente Euskaltel' %}">
              <div class="card-body">
                  <p class="card-text">{% trans "Asistente virtual de Euskaltel que facilita la atención al cliente y soporte técnico." %}</p>
                  <a href="https://www.tuasistenteinteligente.com/Asistenat_euskaltel/" class="btn bg-color w-100">{% trans "Ver Asistente" %}</a>
              </div>
          </div>
      </div>

      <!-- Card 3: Kutxabank -->
      <div class="col-12 col-md-4 d-flex justify-content-center">
          <div class="card mx-2" style="width: 18rem;">
              <img src="{% static 'img/kutxabank.png' %}" class="card-img-top img-fluid" alt="{% trans 'Asistente Kutxabank' %}">
              <div class="card-body">
                  <p class="card-text">{% trans "Asistente virtual de Kutxabank para mejorar la gestión financiera de los clientes." %}</p>
                  <a href="https://www.tuasistenteinteligente.com/Asistenat_kutxabank/" class="btn bg-color w-100">{% trans "Ver Asistente" %}</a>
              </div>
          </div>
      </div>

  </div>
</div>


<!--==================================================================
              seccion de tarifas y suscripción
=====================================================================-->

<section class="bg-white" id="tarifa">
  <div class="container">
    <div class="pricing-header mx-auto text-center py-5">
      <h2 class="display-6 text-center pt-5 mb-4">{% trans 'Tarifa' %}</h2>
      <p class="fs-5 text-body-secondary">
        {% trans 'Elige la opción que mejor se ajusta a las necesidades de tu empresa, organización o proyecto. Cada día trabajos en mejorar nuestros asistentes para mejorar la experiencia de los usuarios y de tus clientes. Contacta con nosotros y te informaremos sin compromiso' %}.
      </p>
    </div>

    <main>
      <div class="row row-cols-1 row-cols-md-3 mb-3 text-center">
        <div class="col">
          <div class="card mb-4 rounded-3 shadow-sm">
            <div class="card-header bg-color py-3">
              <h4 class="my-0 fw-normal">{% trans 'Gratis' %}</h4>
            </div>
            <div class="card-body">
              <h1 class="card-title pricing-card-title">0€<small class="text-body-secondary fw-light">/{% trans 'mes' %}</small></h1>
              <ul class="list-unstyled mt-3 mb-4">
                <label class="text-secondary">{% trans 'Tu asistente sabrá' %}...</label><br><br>
                <li>{% trans 'Descripción general de la empresa' %}</li>
                <li>{% trans 'Uso limitado' %}</li>
              </ul>
              <button type="button" class="w-100 btn btn-lg bg-color">{% trans 'Añadir' %}</button>
            </div>
          </div>
        </div>
        
        <div class="col">
          <div class="card mb-4 rounded-3 shadow-sm border-success">
            <div class="card-header py-3 bg-color border-success">
              <h4 class="my-0 fw-normal">{% trans 'Anual' %}</h4>
              <label>{% trans 'Recomendado' %}</label>
            </div>
            <div class="card-body">
              <h1 class="card-title pricing-card-title">450€<small class="text-body-secondary fw-light">/{% trans 'año' %}</small></h1>
              <ul class="list-unstyled mt-3 mb-4">
                <label class="text-secondary">{% trans 'Tu asistente sabrá' %}...</label><br><br>
                <li>{% trans 'Descripción detallada de la empresa' %}</li>
                <li>{% trans 'Información de horarios' %}</li>
                <li>{% trans 'Información de contacto' %}</li>
                <li><b>{% trans 'Información de productos' %}</b></li>
                <li><b>{% trans 'Tarifa de productos' %}</b></li>
                <li><b>{% trans 'Información de servicios' %}</b></li>
                <li><b>{% trans 'Tarifa de servicios' %}</b></li>
                <li><b>{% trans 'Memoria de conversación' %}</b></li>
                <li><b>{% trans 'Informes de conversaciones' %}</b></li>
                <li>{% trans 'Ilimitado 24/7/365' %}</li>
                <li>{% trans '(Información gestionada mediante panel)' %}</li>
              </ul>
              <a href="{% url 'home_app:tarifa_anual' %}" class="w-100 btn btn-lg bg-color">{% trans 'Añadir' %}</a>
            </div>
          </div>
        </div>
        
        <div class="col">
          <div class="card mb-4 rounded-3 shadow-sm">
            <div class="card-header bg-color py-3">
              <h4 class="my-0 fw-normal">{% trans 'Mensual' %}</h4>
            </div>
            <div class="card-body">
              <h1 class="card-title pricing-card-title">45€<small class="text-body-secondary fw-light">/{% trans 'mes' %}</small></h1>
              <ul class="list-unstyled mt-3 mb-4">
                <label class="text-secondary">{% trans 'Tu asistente sabrá' %}...</label><br><br>
                <li>{% trans 'Descripción detallada de la empresa' %}</li>
                <li>{% trans 'Información de horarios' %}</li>
                <li>{% trans 'Información de contacto' %}</li>
                <li><b>{% trans 'Información de productos' %}</b></li>
                <li><b>{% trans 'Tarifa de productos' %}</b></li>
                <li><b>{% trans 'Información de servicios' %}</b></li>
                <li><b>{% trans 'Tarifa de servicios' %}</b></li>
                <li><b>{% trans 'Memoria de conversación' %}</b></li>
                <li><b>{% trans 'Informes de conversaciones' %}</b></li>
                <li>{% trans 'Ilimitado 24/7/365' %}</li>
                <li>{% trans '(Información gestionada mediante panel)' %}</li>
              </ul>
              <button type="button" class="w-100 btn btn-lg bg-color">{% trans 'Añadir' %}</button>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</section>


<div class="w-100 bg-light p-5">
  <div class="container">
    <div class="row">
      <h2 class="display-6 text-center mb-4">{% trans 'Plan a tu medida' %}</h2>

      <div class="table-responsive">
        <table class="table table-bordered text-center align-middle">
          <thead class="table-light">
            <tr>
              <th style="width: 34%;"></th>
              <th style="width: 22%;">{% trans 'Gratis' %}</th>
              <th style="width: 22%;">{% trans 'Anual' %}</th>
              <th style="width: 22%;">{% trans 'Mensual' %}</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row" class="text-start">{% trans 'Panel de gestión de asistentes' %}</th>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
            </tr>
            <tr>
              <th scope="row" class="text-start">{% trans 'Descripción de la empresa' %}</th>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
            </tr>
            <tr>
              <th scope="row" class="text-start">{% trans 'Información de horarios' %}</th>
              <td>-</td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
            </tr>
          </tbody>
          <tbody>
            <tr>
              <th scope="row" class="text-start">{% trans 'Información de contacto' %}</th>
              <td>-</td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
            </tr>
            <tr>
              <th scope="row" class="text-start">{% trans 'Productos: Información, precios y promociones' %}</th>
              <td>-</td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
            </tr>
            <tr>
              <th scope="row" class="text-start">{% trans 'Productos: Venta directa' %}</th>
              <td>-</td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
            </tr>
            <tr>
              <th scope="row" class="text-start">{% trans 'Servicios: Información, precios y promociones' %}</th>
              <td>-</td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
            </tr>
            <tr>
              <th scope="row" class="text-start">{% trans 'Servicios: Venta directa' %}</th>
              <td>-</td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
            </tr>
            <tr>
              <th scope="row" class="text-start">{% trans 'Preguntas y respuestas' %}</th>
              <td>-</td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
            </tr>
            <tr>
              <th scope="row" class="text-start">{% trans 'Carácter de asistente (formal, informal, cercano, etc.)' %}/th>
              <td>-</td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
            </tr>
            <tr>
              <th scope="row" class="text-start">{% trans 'Informes de conversación' %}</th>
              <td>-</td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
            </tr>
            <tr>
              <th scope="row" class="text-start">{% trans 'Uso ilimitado 7/24/365' %}</th>
              <td>-</td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
            </tr>
            
            <tr>
              <th scope="row" class="text-start">{% trans 'Logo de empresa' %}</th>
              <td>-</td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
            </tr>
            <tr>
              <th scope="row" class="text-start">{% trans 'Imagen/animación de asistente personalizable' %}</th>
              <td>-</td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
            </tr>
            <tr>
              <th scope="row" class="text-start"><button class="btn bg-color text-white w-100" id="asistenciatecnica"><b>{% trans 'Asistencia técnica/telefónica' %}</b></button></th>
              <td>-</td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
              <td><img src="{% static 'img/icono-violeta-impruve.png' %}" width="30"></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>





<div class="bg-white" id="contact">
  <div class="container p-5">
    
    <div class="row">
      <div class="col-12 text-center">
        <h1>{% trans 'Contactar' %}</h1>
      </div>
    </div>

    <!-- Mostrar mensajes de éxito/error -->
    {% if messages %}
    {% for message in messages %}
      <div class="alert {% if message.tags == 'success' %}alert-success{% elif message.tags == 'error' %}alert-danger{% endif %} alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="close" data-dismiss="alert" aria-label="Cerrar">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    {% endfor %}
  {% endif %}
  
<div class="container">
    <form method="post" action="{% url 'home_app:formulario_contactar' %}">
        {% csrf_token %}

        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label for="name">{% trans 'Nombre' %}</label>
                    <input type="text" class="form-control forms-input" id="name" name="name" required>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label for="email">{% trans 'Email' %}</label>
                    <input type="email" class="form-control forms-input" id="email" name="email" required>
                </div>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-md-6">
                <div class="form-group">
                    <label for="phone">{% trans 'Teléfono' %}</label>
                    <input type="text" class="form-control forms-input" id="phone" name="phone">
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label for="company">{% trans 'Empresa' %}</label>
                    <input type="text" class="form-control forms-input" id="company" name="company">
                </div>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-12">
                <div class="form-group">
                    <label for="message">{% trans 'Mensaje' %}</label>
                    <textarea class="form-control forms-input" id="message" name="message" rows="5" required></textarea>
                </div>
            </div>
        </div>

        <div class="row mt-3 text-center">
            <div class="col-12 d-flex justify-content-center">
                <div class="g-recaptcha" data-sitekey="6Lfrkt0qAAAAAP-m1ZDxmp50hlj-5V4dX2ipxxIa"></div>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-12 text-center">
                <button type="submit" class="btn bg-color w-100">{% trans 'Enviar' %}</button>
            </div>
        </div>

    </form>
</div>







<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" aria-labelledby="exampleModalTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">{% trans 'Añade información básica:' %}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
       <form method="post" id="business-profile-form">
        {% csrf_token %}
        <div class="form-group">
            {{ form.as_p }}
        </div>
        <button type="submit" class="btn bg-color w-100">{% trans 'Guardar' %}</button><br><br>
        <label class="text-dark">{% trans 'Nota: Desde el panel de control se puede actualizar y detallar toda la información para el asistente virtual' %}</label>
    </form>
      </div>
      <div class="modal-footer">
        <!--<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
        <button type="button" class="btn btn-primary">Guardar cambios</button>-->
      </div>
    </div>
  </div>
</div>


<!--esto es para el recapcha-->
<!-- Cargar el script de Google reCAPTCHA -->
<script src="https://www.google.com/recaptcha/api.js" async defer></script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
      setTimeout(function () {
          let alerts = document.querySelectorAll(".alert");
          alerts.forEach(function (alert) {
              alert.style.transition = "opacity 0.5s";
              alert.style.opacity = "0";
              setTimeout(() => alert.remove(), 500); // Elimina el mensaje después de la animación
          });
      }, 5000); // Desaparece después de 5 segundos
  });
</script>


<script>
document.addEventListener("DOMContentLoaded", function() {
    let asistenciaButton = document.getElementById("asistenciatecnica");
    if (!asistenciaButton) return;

    let opacity = 1;  // Inicia en visible
    let fadeOut = true; // Variable para alternar entre aparecer y desaparecer
    let speed = 20; // Intervalo en milisegundos para hacer el efecto más lento

    function fadeEffect() {
        if (fadeOut) {
            opacity -= 0.01; // Reduce opacidad más lentamente
            if (opacity <= 0.3) { // Cuando llegue al mínimo, cambia dirección
                fadeOut = false;
            }
        } else {
            opacity += 0.01; // Aumenta opacidad más lentamente
            if (opacity >= 1) { // Cuando llegue al máximo, cambia dirección
                fadeOut = true;
            }
        }
        asistenciaButton.style.opacity = opacity;
        setTimeout(fadeEffect, speed); // Hace la animación más lenta
    }

    fadeEffect(); // Inicia la animación
});

</script>

<script>
document.addEventListener("DOMContentLoaded", function() {
    const input = document.getElementById("exampleInputEmail1"); // Campo donde el usuario escribe el nombre
    const assistantUrl = document.getElementById("assistanturl"); // Texto dinámico de la URL
    const modalCompanyName = document.getElementById("id_assistant_url_name"); // Campo en el formulario modal

    input.addEventListener("input", function() {
        // Remover espacios y caracteres especiales para crear una URL válida
        let sanitizedText = input.value.trim().toLowerCase().replace(/\s+/g, '');

        // Actualizar la URL del asistente
        assistantUrl.textContent = sanitizedText;

        // Actualizar el campo de empresa en el modal si existe
        if (modalCompanyName) {
            modalCompanyName.value = input.value;
        }
    });
});
</script>

<script>
document.addEventListener("DOMContentLoaded", function () {
    const form = document.getElementById("business-profile-form"); // Formulario
    const modalElement = document.getElementById("exampleModalCenter"); // ID del modal
    const modal = new bootstrap.Modal(modalElement); // Instancia del modal
    const submitButton = form.querySelector("button[type='submit']"); // Botón de guardar

    submitButton.addEventListener("click", function (event) {
        event.preventDefault(); // Evita la recarga inmediata

        

        modal.hide(); // Cierra el modal
        form.submit(); // Envía el formulario
    });
});
</script>


<!--===================================================
            prueba del asistente de iñaki
=======================================================-->






<!--OpenAI-->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
$(document).ready(function () {
  // Función para enviar mensaje
  function sendMessage() {
      let userMessage = $('#user-message').val();
      if (userMessage.trim() !== '') {
          // Limpiar el chat-box antes de agregar nuevos mensajes
          //$('#chat-box').empty();

          $('#chat-box').append(`<p class="user-message"><strong>Tú:</strong> ${userMessage}</p>`);
          $('#user-message').val('');

          // Desplazarse automáticamente al final del chat
          $('#chat-box').scrollTop($('#chat-box')[0].scrollHeight);

          $.ajax({
              type: 'POST',
              url: '/assistant/api/get_response/',
              data: {
                  'message': userMessage,
                  'csrfmiddlewaretoken': $('input[name="csrfmiddlewaretoken"]').val()
              },
              success: function (response) {
                  if (response.reply) {
                      $('#chat-box').append(`<p class="bot-message"><strong>Bot:</strong> ${response.reply}</p>`);
                      $('#chat-box').scrollTop($('#chat-box')[0].scrollHeight);
                  } else {
                      $('#chat-box').append('<p class="bot-message"><strong>Error:</strong> Algo salió mal.</p>');
                  }
              },
              error: function () {
                  $('#chat-box').append('<p class="bot-message"><strong>Error:</strong> No se pudo conectar con el servidor.</p>');
              }
          });
      }
  }

  // Enviar mensaje al hacer clic en el botón
  $('#send-button').click(function () {
      sendMessage();
  });

  // Enviar mensaje al presionar Enter
  $('#user-message').keypress(function (e) {
      if (e.which === 13) {
          e.preventDefault();
          sendMessage();
      }
  });
});
</script>
{% endblock %}